{"remainingRequest":"/Users/onlyone/open-github/technology-talk/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/onlyone/open-github/technology-talk/node_modules/vuepress-plugin-img-lazy/enhanceAppFile.js","dependencies":[{"path":"/Users/onlyone/open-github/technology-talk/node_modules/vuepress-plugin-img-lazy/enhanceAppFile.js","mtime":1676962414546},{"path":"/Users/onlyone/open-github/technology-talk/node_modules/cache-loader/dist/cjs.js","mtime":1676962415098},{"path":"/Users/onlyone/open-github/technology-talk/node_modules/babel-loader/lib/index.js","mtime":1676962415297}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGNvbmZpZyBmcm9tICdAZHluYW1pYy9pbWdMYXp5JzsKZXhwb3J0IGRlZmF1bHQgKCh7CiAgVnVlCn0pID0+IHsKICBWdWUubWl4aW4oewogICAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAkaW86IHVuZGVmaW5lZAogICAgICB9OwogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgIGNvbnN0IGxhenlFbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWcuJyArIGNvbmZpZy5zZWxlY3Rvcik7CiAgICAgIGlmIChjb25maWcudXNlTmF0aXZlICYmICdsb2FkaW5nJyBpbiBIVE1MSW1hZ2VFbGVtZW50LnByb3RvdHlwZSkgewogICAgICAgIGxhenlFbHMuZm9yRWFjaChsYXp5RWwgPT4gewogICAgICAgICAgIWxhenlFbC5nZXRBdHRyaWJ1dGUoJ3NyYycpICYmIGxhenlFbC5zZXRBdHRyaWJ1dGUoJ3NyYycsIGxhenlFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJykpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2V0T2JzZXJ2ZXIoKTsKICAgICAgICBsYXp5RWxzLmZvckVhY2gobGF6eUVsID0+IHsKICAgICAgICAgIHRoaXMuJGlvLm9ic2VydmUobGF6eUVsKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgc2V0T2JzZXJ2ZXIoKSB7CiAgICAgICAgdGhpcy4kaW8gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZW50cmllcyA9PiB7CiAgICAgICAgICBlbnRyaWVzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIGlmIChpdGVtLmlzSW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICAgICAgY29uc3Qgc3JjID0gdGhpcy5nZXRTcmMoaXRlbS50YXJnZXQpOwogICAgICAgICAgICAgIGlmIChzcmMpIHsKICAgICAgICAgICAgICAgIGl0ZW0udGFyZ2V0LnNyYyA9IHNyYzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy4kaW8udW5vYnNlcnZlKGl0ZW0udGFyZ2V0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSwgewogICAgICAgICAgcm9vdE1hcmdpbjogY29uZmlnLnJvb3RNYXJnaW4KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZ2V0U3JjKGVsKSB7CiAgICAgICAgaWYgKGVsLmRhdGFzZXQpIHsKICAgICAgICAgIHJldHVybiBlbC5kYXRhc2V0LnNyYzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc3QgaXRlbSA9IGVsLmF0dHJpYnV0ZXMuZmluZChpdGVtID0+IGl0ZW0ubm9kZU5hbWUgPT09ICdkYXRhLXNyYycpOwogICAgICAgICAgcmV0dXJuIGl0ZW0gJiYgaXRlbS5ub2RlVmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSk7Cn0pOw=="},{"version":3,"names":["config","Vue","mixin","data","$io","undefined","mounted","lazyEls","document","querySelectorAll","selector","useNative","HTMLImageElement","prototype","forEach","lazyEl","getAttribute","setAttribute","setObserver","observe","methods","IntersectionObserver","entries","item","isIntersecting","src","getSrc","target","unobserve","rootMargin","el","dataset","attributes","find","nodeName","nodeValue"],"sources":["/Users/onlyone/open-github/technology-talk/node_modules/vuepress-plugin-img-lazy/enhanceAppFile.js"],"sourcesContent":["import config from '@dynamic/imgLazy'\n\nexport default ({ Vue }) => {\n  Vue.mixin({\n    data() {\n      return {\n        $io: undefined\n      }\n    },\n\n    mounted() {\n      const lazyEls = document.querySelectorAll('img.' + config.selector)\n      if (config.useNative && 'loading' in HTMLImageElement.prototype) {\n        lazyEls.forEach(lazyEl => {\n          !lazyEl.getAttribute('src') && lazyEl.setAttribute('src', lazyEl.getAttribute('data-src'))\n        })\n      } else {\n        this.setObserver()\n        lazyEls.forEach(lazyEl => {\n          this.$io.observe(lazyEl)\n        })\n      }\n    },\n\n    methods: {\n      setObserver() {\n        this.$io = new IntersectionObserver(entries => {\n          entries.forEach(item => {\n            if (item.isIntersecting) {\n              const src = this.getSrc(item.target)\n\n              if (src) {\n                item.target.src = src\n              }\n              this.$io.unobserve(item.target)\n            }\n          })\n        }, {\n          rootMargin: config.rootMargin\n        })\n      },\n      getSrc(el) {\n        if (el.dataset) {\n          return el.dataset.src\n        } else {\n          const item = el.attributes.find(item => item.nodeName === 'data-src')\n          return item && item.nodeValue\n        }\n      }\n    }\n  })\n}\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,kBAAkB;AAErC,gBAAe,CAAC;EAAEC;AAAI,CAAC,KAAK;EAC1BA,GAAG,CAACC,KAAK,CAAC;IACRC,IAAIA,CAAA,EAAG;MACL,OAAO;QACLC,GAAG,EAAEC;MACP,CAAC;IACH,CAAC;IAEDC,OAAOA,CAAA,EAAG;MACR,MAAMC,OAAO,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,MAAM,GAAGT,MAAM,CAACU,QAAQ,CAAC;MACnE,IAAIV,MAAM,CAACW,SAAS,IAAI,SAAS,IAAIC,gBAAgB,CAACC,SAAS,EAAE;QAC/DN,OAAO,CAACO,OAAO,CAACC,MAAM,IAAI;UACxB,CAACA,MAAM,CAACC,YAAY,CAAC,KAAK,CAAC,IAAID,MAAM,CAACE,YAAY,CAAC,KAAK,EAAEF,MAAM,CAACC,YAAY,CAAC,UAAU,CAAC,CAAC;QAC5F,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,IAAI,CAACE,WAAW,EAAE;QAClBX,OAAO,CAACO,OAAO,CAACC,MAAM,IAAI;UACxB,IAAI,CAACX,GAAG,CAACe,OAAO,CAACJ,MAAM,CAAC;QAC1B,CAAC,CAAC;MACJ;IACF,CAAC;IAEDK,OAAO,EAAE;MACPF,WAAWA,CAAA,EAAG;QACZ,IAAI,CAACd,GAAG,GAAG,IAAIiB,oBAAoB,CAACC,OAAO,IAAI;UAC7CA,OAAO,CAACR,OAAO,CAACS,IAAI,IAAI;YACtB,IAAIA,IAAI,CAACC,cAAc,EAAE;cACvB,MAAMC,GAAG,GAAG,IAAI,CAACC,MAAM,CAACH,IAAI,CAACI,MAAM,CAAC;cAEpC,IAAIF,GAAG,EAAE;gBACPF,IAAI,CAACI,MAAM,CAACF,GAAG,GAAGA,GAAG;cACvB;cACA,IAAI,CAACrB,GAAG,CAACwB,SAAS,CAACL,IAAI,CAACI,MAAM,CAAC;YACjC;UACF,CAAC,CAAC;QACJ,CAAC,EAAE;UACDE,UAAU,EAAE7B,MAAM,CAAC6B;QACrB,CAAC,CAAC;MACJ,CAAC;MACDH,MAAMA,CAACI,EAAE,EAAE;QACT,IAAIA,EAAE,CAACC,OAAO,EAAE;UACd,OAAOD,EAAE,CAACC,OAAO,CAACN,GAAG;QACvB,CAAC,MAAM;UACL,MAAMF,IAAI,GAAGO,EAAE,CAACE,UAAU,CAACC,IAAI,CAACV,IAAI,IAAIA,IAAI,CAACW,QAAQ,KAAK,UAAU,CAAC;UACrE,OAAOX,IAAI,IAAIA,IAAI,CAACY,SAAS;QAC/B;MACF;IACF;EACF,CAAC,CAAC;AACJ,CAAC"}]}